<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
     <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" >
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <style>
        .formOnly{
            background-color : grey ;
            border : 4px solid black ;
            border-bottom-left-radius: 50px ;
            border-top-right-radius: 50px ;
           
          
        }
        .mkDist{
            margin-top: 10px ;
        }
        .jkl{
            height : 50% ;
            padding-top: 50px ;
            padding-bottom: 50px ;
        }
        .reg{
            font-size: 35px ;
            font-weight: bolder ;
        }
    </style>
    <script>
        
    </script>
    <body>
         <div class="container " >
             <div class="row justify-content-center">
                 <div class ="col-4"><h1 class = "reg">Register Here ... </h1></div>
             </div>
             <div class ="row justify-content-center align-items-center jkl">
                 <div class ="col-md-6 offset-3 align-self-center mr-auto formOnly">
                      <form action="register" class ="formSubmit" method="post">
                         
                            <table class="table-borderless">
                                <tr>
                                     <h1 style = "text-align:center ;" id = "msg"></h1>
                                </tr>
                                <tr class = "mkDist">
                                    <td><p>Enter Full Name : </p></td>
                                    <td><input type = "text" name = "f_name" placeholder="Name" required/></td>
                                </tr>
                                <tr class = "mkDist">
                                    <td>Username(Name to be used) :</td>
                                    <td><input type = "text" name = "uname" placeholder="Username" required/></td>
                                </tr>                
                                <tr class = "mkDist">
                                    <td>Email Id :</td>
                                    <td><input type="text" name="email" placeholder="example@gmail.com" required/></td>
                                </tr>
                                <tr class = "mkDist">
                                    <td>Password :</td>
                                    <td><input type = "password" name = "pass" required/></td>

                                </tr>
                                <tr class = "mkDist">
                                    <td>Confirm Password : </td>
                                    <td><input type = "password" name ="cpass" required/></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td><input type ="checkbox" name = "checkcond" required/>Agree terms and conditions to proceed</td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td>
                                        <div class="preloader-wrapper active spin">
                                            <div class="spinner-layer spinner-blue-only">
                                              <div class="circle-clipper left">
                                                <div class="circle"></div>
                                              </div>
                                              <div class="gap-patch">
                                                <div class="circle"></div>
                                              </div>
                                              <div class="circle-clipper right">
                                                <div class="circle"></div>
                                              </div>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td><h2 id = "waitingText" hidden="true">Please Wait ....</h2></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td><input type = "submit" id ="regs" value="Register"></td>
                                </tr>
                                
                            </table>
                          
                      </form>
                 </div>
             </div>
         </div>
    </body>
    <script>
         $(document).ready(function(){
             $('#regs').on('click',function(e)
             {
                e.preventDefault() ; 
                var f = $('.formSubmit').serialize() ;
                 
                 
                 
                 $.ajax({
                    url : "register" ,
                    data : f ,
                    type:'POST' , 
                    success : function(data , textStatus , jqXHR){
   
                    if(data.trim() === 'done')
                    {
                        $('#msg').html("Successfully Registered !!!!") ;
                    }
                    if(data.trim() === 'exist'){
                        $('#msg').html("Already have an account");
                        console.log("not registered") ;
                        
                       
                    }
                       
//                        console.log(data) ;
                    },
                    error : function(jqXHR , textStatus , errorThrown){
                     console.log("error") ;   
                    }
                 });
             });
         }) ;
    </script>
   
</html>
